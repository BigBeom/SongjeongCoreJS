# 프로토타입

자바스크립트는 프로토타입 기반 언어이다. 클래스 기반 언어에서는 '상속'을 사용하지만 프로토타입 기반 언어에서는 **어떤 객체를 원형으로 삼고 이를 복제(참조)함**으로써 상속과 비슷한 효과를 얻는다.


## 프로토타입의 개념과 이해

### constructor, prototype, instance

```jsx
let instance = new Constructor
```

1. 어떤 생성자 함수(Constructor)를 new 연산자와 함께 호출하면
2. Constructor에서 정의된 내용을 바탕으로 새로운 인스턴스가 생성된다.
3. 이때 instance에는 `__proto__` 라는 프로퍼티가 자동을 부여되는데
4. 이 프로퍼티는 Constructor의 prototype라는 프로퍼티를 참조한다.

prototype와 이를 참조하는 `__proto__`는 모두 **객체**
prototype 객체 내부에는 인스턴스가 사용할 메서드를 저장


Person 인스턴스
- proto 프로퍼티로 getName을 호출할 수 있다. undefined가 출력되는 이유는 함수를 메서드로서 호출하면 바로 앞의 객체가 곧 this가 되기 때문이다. __proto__ 객체에는 name 프로터티가 없기 때문에 undefined가 반환된다.

this 인스턴스
- `__proto__`를 생략하면 된다. 원래부터 생략 가능하도록 정의되어있다. 이런 점 때문에 생성자 함수의 prototype에 어떤 메서드나 프로퍼티가 있다면 인스턴스에서도 마치 자신의 것처럼 해당 메서드나 프로퍼티에 접근할 수 있게 된다.


### constructor 프로퍼티

- 생성자 함수의 프로퍼티인 Prototype 내부에는 consturctor라는 프로퍼티가 있다. 인스턴스의 `__proto__` 객체에도 마찬가지이다. 원래의 **생성자 함수(자기 자신)을 참조**하는데, 인스턴스로부터 그 원형을 알 수 있는 수단이기 때문이다.
- constructor는 읽기 전용 속성(기본형 리터럴 변수 - number, string, boolean)이 부여된 예외적인 경우를 제외하고는 값을 바꿀 수 있다.


## 프로토타입 체인

### 메서드 오버라이드

인스턴스가 동일한 이름의 프로퍼티나 메소드를 가지게 되면 **메소드 오버라이드**가 일어난다.


프로토타입 체인 : 어떤 데이터의 __proto__ 프로퍼티 내부에 다시 __proto__ 프로퍼티가 연쇄적으로 이어진 것.
프로토타입 체이닝 : 프로토타입 체인을 따라가며 검색하는 것.


### 객체 전용 메소드의 예외사항

### Object.create

- 예외적으로 **`Object.create`**를 이용하면 `Object.prototype`에 접근할 수 없는 경우가 있다.

- `Object.create(null)`은 `__proto__`가 없는 객체를 생성한다.

- 이 방식으로 만든 객체는 일반적인 데이터에서 반드시 존재하던 내장 메소드 및 프로퍼티들이 제거됨으로써 기본 기능 제약이 생긴 대신, 객체 자체의 무게가 가벼워짐으로써 성능상 이점을 가진다.


### 다중 프로토타입 체인

자바스크립트의 기본 내장 데이터 타입들은 모두 프로토타입 체인이 1-2 단계로 끝나는 경우만 있었지만, 사용자가 새롭게 만드는 경우 그 이상도 얼마든지 가능하다. 대각선의 `__proto__`를 연결해 나가기만 하면 무한대로 체인 관계를 만들 수 있는데, 이 방식으로 다른 언어의 **클래스**와 비슷하게 동작하는 구조를 만들 수 있다.